<!DOCTYPE html>
<!-- Apache 2.0 License information here -->
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>GeneBurst</title>
		<!-- D3 -->
		<script type="text/javascript" src="d3.min.js"></script>
	</head>
	<style>
		body {
			font-family: 'Open Sans', sans-serif;
			font-size: 12px;
			font-weight: 400;
			background-color: #fff;
			width: 960px;
			height: 700px;
			margin-top: 10px;
			margin-left: auto;
			margin-right: auto;
	    }

	    h3 {
			font-weight: normal;
			line-height: 0px;
		}

	    #sequence {
	    	width: 600px;
	    	height: 70px;
	    }

	    #sequence text, #legend text {
	    	font-weight: 600;
	    	fill: #fff;
	    }

	    #chart {
	    	position: relative;
	    }

	    #chart path {
	    	stroke: #fff;
	    }

	    .explanation {
	    	position: absolute;
	    	font-size: 10px;
	    	top: 160px;
	    	left: 152px;
	    	width: 70.5px;
	    	text-align: center;
	    	color: #666;
	    	z-index: -1;
	    }

	    .percentage {
	      font-size: 2.5em;
	    }

		#container {
			width: 800px;
			margin: 20px auto;
		}

		#page-title {
			text-align: center;
		}

		circle,
		path {
			cursor: pointer;
		}

		circle {
			fill: none;
			pointer-events: all;
		}

		#tooltip {
			background-color: white;
			padding: 3px 5px;
			border: 1px solid black;
			text-align: center;
		}
	</style>
	<body>
		<div id="container">
			<div id="page-title">
					<h1>GeneBurst</h1>
					<h3>By <a href="http://scottemmons.com/" target="_blank">Scott Emmons</a></h3>
			</div>
			<div>
				<div id="uploadbutton">
					<p><a href="sample_dataset.csv">Download Sample Dataset</a> and <input type="file" id="uploader"></p>
				</div>
				<div id="axisdropdowns" style="visibility: hidden;">
					<p><select id="selectq1site" name="selectq1site" onchange="functionName(this.value)">
						<option value="None">Select a Site for Q1</option>
						<option value="None">No Site (Default)</option>
						<option value="site1">site1</option>
						<option value="site2">site2</option>
						<option value="site3">site3</option>
						<option value="site4">site4</option>
						<option value="site5">site5</option>
					</select>
					<select id="selectq2site" name="selectq2site" onchange="functionName(this.value)">
						<option value="None">Select a Site for Q2</option>
						<option value="None">No Site (Default)</option>
						<option value="site1">site1</option>
						<option value="site2">site2</option>
						<option value="site3">site3</option>
						<option value="site4">site4</option>
						<option value="site5">site5</option>
					</select>
					<select id="selectq3site" name="selectq3site" onchange="functionName(this.value)">
						<option value="None">Select a Site for Q3</option>
						<option value="None">No Site (Default)</option>
						<option value="site1">site1</option>
						<option value="site2">site2</option>
						<option value="site3">site3</option>
						<option value="site4">site4</option>
						<option value="site5">site5</option>
					</select></p>
				</div>
			</div>
			<div id="plot-container">
				<div id="sequence"></div>
				<!--<div id="chart">
		        	<div id="explanation" style="visibility: hidden;">
		          		<span id="percentage"></span><br/>
		          		of the community consists of the taxon
		          		<span id="taxon"></span>
		        	</div>
		      	</div>-->
			</div>
			<div id="how-to-read">
				<h2>Description</h2>
				<p>Determining microbial community composition is a fundamental problem in microbial ecology. Researchers spend years searching for funds, planning and executing expeditions to remote locations of the globe to collect samples for study. After extracting DNA samples in the lab, researchers use open-source software tools, such as QIIME, to process their DNA sequencing data. While such software efficiently processes the data, researchers are left with the challenge of interpreting it&mdash;rows upon rows of numbers.</p>
				<p>GeneBurst, acting as a direct QIIME to D3.js converter, meets the cyberinfrastructure needs of biological researchers. It takes the raw CSV data that QIIME outputs and converts it to a JSON file that can be passed into a D3.js sunburst visualization. A sunburst, which depicts the community composition of an individual location, has a hierarchical structure; as the burst progresses radially outward, it increases in taxonomic resolution. The size of each sunburst arc encodes the given taxonomic unit's percentage, which translates to relative contribution to the community. This example visualization uses data from the deep Gulf of Mexico produced by the Teske lab of UNC Marine Sciences.</p>
			</div>
		</div>
		<script type="text/javascript" src="vis.js"></script>
		<script>handleUpload("uploader", receiveUpload);</script>
	</body>
</html>